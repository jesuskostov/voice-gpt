<!DOCTYPE html>
<html lang="en">

<head>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <meta name="description" content="TechWave">
    <meta name="author" content="Frenify">

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <title>Home - TechWave</title>


    <script>
        if (!localStorage.frenify_skin) {
            localStorage.frenify_skin = 'dark';
        }
        if (!localStorage.frenify_panel) {
            localStorage.frenify_panel = '';
        }
        document.documentElement.setAttribute("data-techwave-skin", localStorage.frenify_skin);
        if (localStorage.frenify_panel !== '') {
            document.documentElement.classList.add(localStorage.frenify_panel);
        }

    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300;400;500;600;700;800;900&family=Work+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!-- !Google Fonts -->

    <!-- Styles -->
    <link type="text/css" rel="stylesheet" href="css/plugins.css?ver=1.0.0" />
    <link type="text/css" rel="stylesheet" href="css/style.css?ver=1.0.0" />
    <!--[if lt IE 9]> <script type="text/javascript" src="js/modernizr.custom.js"></script> <![endif]-->
    <!-- !Styles -->

</head>

<body>
    <div style="display:flex; align-items:center;justify-content: center;height: 100vh" class="techwave_fn_wrapper">
        <div class="techwave_fn_wrap">
            <div class="company_info">
                <p id="chat-area" style="font-size: 32px; color: white" class="fn__animated_text">Аз съм Елиза и съм
                    готова да ти
                    помогна</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="text/javascript" src="js/jquery.js?ver=1.0.0"></script>
    <script type="text/javascript" src="js/plugins.js?ver=1.0.0"></script>
    <!--[if lt IE 10]> <script type="text/javascript" src="js/ie8.js"></script> <![endif]-->
    <script type="text/javascript" src="js/init.js?ver=1.0.0"></script>
    <!-- !Scripts -->


    <script>
        var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        var recognition = new SpeechRecognition();

        recognition.lang = 'bg-BG'; // Bulgarian language
        recognition.interimResults = false;
        recognition.continuous = true; // Enable continuous speech recognition

        var isListening = false; // Flag to track the listening state

        recognition.onstart = function () {
            console.log('Recognition started');
            isListening = true;

        };

        recognition.onend = function () {
            console.log('Recognition ended');
            if (isListening) {
                recognition.start(); // Restart recognition if previously in listening state
            }
            document.getElementById('pulse-element').classList.remove('pulse-element');
        };

        recognition.onresult = function (event) {
            var last = event.results.length - 1;
            var text = event.results[last][0].transcript;
            console.log(text)

            if (text.toLowerCase().includes('елиза')) {
                document.getElementById('pulse-element').classList.add('pulse-element');
                let msg = text.toLowerCase().replace('елиза', '');
                document.querySelector('#chat-area').textContent += msg + '\n';
            }
        };

        recognition.onerror = function (event) {
            console.log('Error occurred in recognition: ' + event.error);
        };

        recognition.start();
    </script>
</body>

</html>